# ===========================================
# Docker Compose Override - Local Development
# ===========================================
# This file shows how to override docker-compose.yaml for local development
# 
# Usage:
#   1. Copy this file: cp docker-compose.override.yaml.example docker-compose.override.yaml
#   2. Copy .env.example: cp .env.example .env
#   3. Fill in your credentials in .env
#   4. Run: docker-compose up -d
#
# The .env file and docker-compose.override.yaml are automatically excluded from git
# ===========================================

services:
  timescaledb:
    environment:
      POSTGRES_PASSWORD: ${TIMESCALE_PASSWORD:?TIMESCALE_PASSWORD is required}

  postgresql-metadata:
    environment:
      POSTGRES_PASSWORD: ${METADATA_PASSWORD:?METADATA_PASSWORD is required}

  redis:
    command: redis-server --requirepass ${REDIS_PASSWORD:?REDIS_PASSWORD is required}

  emqx:
    environment:
      EMQX_DASHBOARD__DEFAULT_PASSWORD: ${EMQX_DASHBOARD_PASSWORD:?EMQX_DASHBOARD_PASSWORD is required}

  api:
    environment:
      TIMESCALE_PASSWORD: ${TIMESCALE_PASSWORD:?TIMESCALE_PASSWORD is required}
      METADATA_PASSWORD: ${METADATA_PASSWORD:?METADATA_PASSWORD is required}
      REDIS_PASSWORD: ${REDIS_PASSWORD:?REDIS_PASSWORD is required}
      MQTT_USERNAME: ${MQTT_USERNAME:?MQTT_USERNAME is required}
      MQTT_PASSWORD: ${MQTT_PASSWORD:?MQTT_PASSWORD is required}
